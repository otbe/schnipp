language: node_js
node_js:
- '8.10'

cache:
  yarn: true
  directories:
  - node_modules

script: yarn test:ci

before_deploy:
- yarn build
- cd dist

deploy:
  provider: npm
  email: benjamin.otto@style-systems.de
  skip_cleanup: true
  api_key:
    secure: XHoLdPdeMvINWjRpeKNeiGbG8okbL+d5sCZj0lATuGZQuRvhuMHRftyjRFhwgj24ZKXuMce0sp6GZifymCIJxxNCJfFsmiTwmFqjygveLDU1WOx4eUq/T8bnTKHC0iyDC4QuJ7gSNcMrstSC+QnXu1qDI5b2+nSZ1vEf4XLaGqJ0WsjRcVXroMy0EJKRSHd3MkPlQvxcrh6wNDdlHOuQNycN++cHH4LlAR/kgTD8hwqzP/IyHSkRAI33BkasPVR1PBDQsrlSIrY2LStDwPJrYBTBL/aKcZjA4NEyZDoa3qANNlLez+wUz0Cf04hR1y8HYbiS917PjLriJnXFB0aJniBkOEjf/xyFR2uFc1EkQeUOA0ujNIee7s3K0jkyaFgPer6P2os1SbLS2mQIcHgv0njcddceMAM8sSeVYzOzzsfagVmkK053x4dHsmXtSFdcCdVNWXxFFihbHXAQDSLZY/pFRLcRnRh6BNvIXVuJIBiakoEE8UkJbMXVBvyPuKt5K5MGA/TLg0AIM44AE5s2yzLRw8DWdgFvKw8AT3PIL4Ebrt1xWFX1JwgebNNR7aqxzCicZj+ivmsH9gX6jMKRjR8fVEGYfdvzSfWeEeIbzB0YM1Ea/CgaClic8ttHFI/YqKb5Ga2VCY72z2/1UbwnAdMXU7Qnuw49giLoYyulS6M=
  on:
    tags: true
    repo: otbe/schnipp
